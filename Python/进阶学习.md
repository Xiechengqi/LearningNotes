# Python3 进阶学习笔记

## 函数标准参数、*args 与 **kwargs

* Python 允许函数的在定义时不必确定形参的数量，用 '*' 表示不确定的形参
* `*args` 和 `**kwargs` 是一种常用的不确定数量形参的表示，但只有 `*` 是必须的，所以也可以用类似 `*var` 和 `**vars**` 来表示
* `*args`
  * 表示不确定数量的非键值对参数
  * args 可以是元组 ( tuple ) 或列表 ( list ) 等
* `**kwargs`
  * 表示不确定数量的键值对参数
  * kwargs 可以是字典 ( dictionary ) 等
* 当要在一个函数中传入以上三种类型表示的形参，顺序如下：
``` python
def some_func(fargs, *args, **kwargs):
```
## 匿名函数 - lambda

> 在 python 中，除了一般使用 def 定义的函数外，还有一种使用 **lambda** 定义的匿名函数。这种函数可以用在任何普通函数可以使用的地方，但在定义时被严格限定为**单一表达式**

``` python
# lambda 表达式格式：
# lambda 变量 1 , 变量 2 ,...变量 N : 含有变量的表达式
# 例如：
>>> x1 = 1
>>> x2 = 2
>>> test = lambda x1 , x2 : x1 + x2
>>> test(x1 , x2)
3
```

## 生成器 - Generators

### 生成器的基础 - 迭代

* 可迭代对象 - Iterable
  * Python 中任意的对象，只要它定义了可以返回一个迭代器的 `__iter__` 方法，或者定义了可以支持下标索引的 `__getitem__` 方法，那么它就是一个可迭代对象。简单说，可迭代对象就是能提供迭代器的任意对象

* 迭代器 - Iterator
  * 任意对象，只要定义了 next ( Python2 ) 或者 `__next__` 方法，它就是一个迭代器
* 迭代 - Iteration
  * 用简单的话讲，它就是从某个地方（ 比如一个列表 ）取出一个元素的过程。当我们使用一个循环来遍历某个东西时，这个过程本身就叫迭代
  


### 生成器

> 单纯由循环控制的迭代的执行往往会消耗大量内存，也会一次性产生所有结果，可以看出，对于每次只需要迭代过程中某一个结果的要求，使用迭代往往会浪费时间、空间，比如每次都要一个只需几次迭代就能得到的结果，但若由循环直接控制迭代则每次都要完成所有迭代，返回所有结果。利用生成器，则可以控制循环中的迭代

* 生成器也是一种迭代器，但是你只能对其迭代一次。这是因为它们并没有把所有的值存在内存中，而是在运行时生成值。你通过遍历来使用它们，要么用一个 “for” 
循环，要么将它们传递给任意可以进行迭代的函数和结构
* 生成器最佳应用场景是：你不想同一时间将所有计算出来的大量结果集分配到内存当中，特别是结果集里还包含循环


## 各种推导式 - comprehensions

* 推导式（ 又称解析式 ）是 Python 的一种独有特性
* 推导式是可以从一个数据序列构建另一个新的数据序列的结构体，共有三种推导，在 Python2 和 3 中都有支持：
    * 列表 ( list ) 推导式
    * 字典 ( dict ) 推导式
    * 集合 ( set ) 推导式

## 集合 - Set

Set（ 集合 ）是一种数据结构，形式如： `{1, 2, 3, 4}`，集合中不能有重复的元素（ 和数学里的定义一样 ）

### 应用场景

1. 检查列表中是否包含重复的元素

```python
>>> some_list = [1, 2, 3, 1, 4, 2]
>>> chongfu = [ x for x in some_list if some_list.count(x) > 1 ]
>>> print(chongfu)
[1, 2, 1, 2]
>>> chongfu = set([ x for x in some_list if some_list.count(x) > 1 ])
>>> print(chongfu)
{1, 2}
```

2. 两个集合的交集 - **intersection**

``` pyhton
>>> set1 = set([1, 2, 3, 4, 5])
>>> set2 = set([1, 7, 8])
>>> print(set1.intersection(set2))
{1}
>>> print(set2.intersection(set1))
{1}
```

3. 两个集合的差集 - **difference**

``` python
>>> set1 = set([1, 2, 3, 4, 5])
>>> set2 = set([1, 7, 8])
>>> print(set1.difference(set2))
{2, 3, 4, 5}
>>> print(set2.difference(set1))
{8, 7}
```
